<!--상품 조회 html-->

<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>상품 조회창</title>
    </head>


    <body>
        <h2>상품 조회</h2>
        <br>


        <div th:if="${products == null or #lists.isEmpty(products)}">
            <p>등록된 상품이 없습니다.</p>
        </div>


        <table border="1" th:if="${products != null and !#lists.isEmpty(products)}">
            <thead>
                <tr>
                    <th>상품명</th>
                    <th>가격</th>
                    <th>개수</th>
                    <th>이미지</th>
                </tr>
            </thead>

            <tbody>
                <tr th:each="p : ${products}">
                    <td th:text="${p.productName}">상품명</td>
                    <td th:text="${p.price}">0</td>
                    <td th:text="${p.count}">0</td>
                    <td>
                        <img th:src="@{'/uploads/' + ${p.profilePath}}" alt="상품 이미지" width="80">
                    </td>

                    <td>
                        <form action="/client/cart" method="post">
                            <input type="hidden" name="productName" th:value="${p.productName}">
                            <input type="hidden" name="price" th:value="${p.price}">
                            <input type="hidden" name="count" th:value="${p.count}">
                            <input type="hidden" name="profilePath" th:value="${p.profilePath}">
                            <button type="submit">장바구니 담기</button>
                        </form>
                    </td>
                </tr>

            </tbody>
        </table>

        <button onclick="location.href='/client/mypage'">마이페이지로</button>
    </body>
</html>

<!--
1. 최상단 선언부
    <html lang="ko" xmlns:th="http://www.thymeleaf.org">

    xmlns:th="http://www.thymeleaf.org는 타임리프 전용 속성 th:를 사용하기 위한 선언입니다.


2. table 태그
    1) 태그 설명

        <table> : 표(테이블)를 생성
            border="1": 표의 경계선 두께 지정 (1픽셀)

        <tr>    : 테이블의 한 행(row)

        <th>    : 테이블 헤더 셀 (굵게 표시됨)

        <td>    : 테이블 데이터 셀


    2) tbody 태그

        <tr th:each="p : ${products}">
            - <tr>    
                → 테이블의 한 행(row)를 의미한다.
            - th:each 
                → 타임리프 반복문 속성
            - p : ${products} 
                → 서블릿에서 ctx.setVariable("products", products)로 
                  넘긴 리스트.
                → p는 products 안의 각 원소(Product 객체)를 
                  가리키는 변수.


                → products 리스트의 각 항목을 p라는 변수로 참조

                → 즉, products 리스트의 각 상품에 대해 테이블 행을 생성함.
                → 즉, 상품 하나당 <tr>이 하나씩 생성됩니다

                        ${...}: 
                        - 이건 Thymeleaf 표현식. 
                        - 자바 객체의 값을 꺼내서 HTML에 출력할 때 사용


                        
        <td th:text="${p.productName}">상품명</td>








3. button 태그

    1. onclick="location.href='/index'"        
        - 버튼 클릭 시 지정된 URL로 이동
        - location.href는 현재 페이지의 URL을 변경하는 역할
        - '/index'는 이동할 목적지 URL
        - 즉, 이 버튼을 클릭하면 사용자는 /index 페이지로 이동합니다.

        

-->
