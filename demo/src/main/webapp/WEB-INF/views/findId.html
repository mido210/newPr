<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <title>ID 찾기</title>
  <style>
    body { font-family: sans-serif; max-width: 560px; margin: 40px auto; }
    .box { border: 1px solid #ddd; padding: 20px; border-radius: 10px; }
    .row { margin: 12px 0; }
    label { display: inline-block; width: 110px; }
    input[type="email"] { width: 300px; }
    .hint { color: #666; font-size: 0.9em; }
    .result { margin-top: 16px; padding: 12px; border-radius: 8px; background: #f7f7f7; }
  </style>
</head>

<body>
  <h2>아이디 찾기</h2>

  <div class="box">

    <form action="/account/find-id" method="post" accept-charset="UTF-8">
      <div class="row">
        <label for="email">가입 이메일</label>
        <input type="email" id="email" name="email" required placeholder="you@example.com">
      </div>

      <div class="row">
        <span class="hint">※ 고객/사업자 중 어디로 가입했는지는 자동으로 모두 조회합니다.</span>
      </div>

      <div class="row">
        <button type="submit">아이디 찾기</button>
        <button type="button" onclick="location.href='/summit/login'">로그인으로 돌아가기</button>
      </div>
    </form>

    <!-- 결과 표시 -->
    <div class="result" th:if="${searched}">
      <div th:if="${#lists.isEmpty(results)}">
        해당 이메일로 가입된 계정을 찾지 못했습니다.
      </div>

      <div th:if="${!#lists.isEmpty(results)}">
        <div><strong>조회 결과</strong></div>
        <ul>
          <li th:each="r : ${results}">
            <span th:text="${r.role}">ROLE</span> 계정의 아이디:
            <strong th:text="${r.id}">someId</strong>
          </li>
        </ul>
      </div> <!--th:if="${!#lists.isEmpty(results)}"-->
    </div> <!--결과 표시-->

  </div><!--div class="box"-->
</body>
</html>
